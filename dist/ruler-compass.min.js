/*! ruler-compass - v0.0.0 - 2012-12-21
 * https://github.com/dvberkel/ruler-compass
 * Copyright (c) 2012 Daan van Berkel; Licensed MIT
 */
Geometry={version:"0.0.0"},function(e,t,n){var r=t.Model.extend({}),i=t.Collection.extend({model:r,append:function(e){this.add(e)}});n.ConstructionStep=r,n.Construction=i}(_,Backbone,Geometry),function(e,t,n,r){var i=n.View.extend({initialize:function(){this.model||(this.model=new r.Construction),this.render()},render:function(){new s({el:this.$el,model:this.model}),new a({el:this.$el,model:this.model}),e("<div class='result'/>").appendTo(this.$el)}}),s=n.View.extend({initialize:function(){this.render()},render:function(){var t=e("<div class='parts'/>");t.appendTo(this.$el),new o({el:t,model:this.model})}}),o=n.View.extend({initialize:function(){this.render()},render:function(){var t=e("<div class='free'/>");t.appendTo(this.$el),new u({el:t,model:this.model})}}),u=n.View.extend({initialize:function(){this.render()},render:function(){var t=e("<span class='point'>Point</span>");t.appendTo(this.$el);var n=this.model;t.click(function(){n.append(new r.ConstructionStep({}))})}}),a=n.View.extend({initialize:function(){this.model.on("add",function(e){var t=this.container();new f({el:t,model:e})},this),this.render()},render:function(){var e=this.container()},container:function(){return this._container===undefined&&(this._container=e("<div class='code'/>"),this._container.appendTo(this.$el)),this._container}}),f=n.View.extend({initialize:function(){this.render()},render:function(){e("<div class='point'/>").appendTo(this.$el)}});r.EnvironmentView=i}(jQuery,_,Backbone,Geometry);